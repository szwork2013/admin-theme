"use strict";!function(){angular.module("app",["app.auth","app.environment","app.product","app.shop","app.section","app.reports","app.kernel","app.settings","app.variant","app.order","app.dashboard"])}(),jQuery(document).ready(function(){angular.bootstrap(document,["app"])}),angular.module("app.environment",[]).service("Environment",function(){var a=document.domain.replace("admin","api");return{settings:{api:"http://"+a+"/backend/api",domain:"http://"+a,pageTitle:"Onhanh - open source project | Admin",locale:{primary:"en",available:["ru","es","en"]}},currentLocale:function(){var a=window.location.pathname.replace(/^\/([^\/]*).*$/,"$1");return-1==this.settings.locale.available.indexOf(a)&&(a=this.settings.locale.primary),a}}}),angular.module("app.auth",[]),angular.module("app.dashboard").config(["$stateProvider",function(a){a.state("home",{url:"/:name/home",templateUrl:"/web/dashboard/dashboard",controller:"DashboardController"})}]),function(){angular.module("app.dashboard").controller("DashboardController",["$location","$scope","$routeParams","$rootScope",function(a,b,c,d){}])}(),angular.module("app.dashboard",[]),angular.module("app.kernel").controller("abstractDetailController",["$controller","$scope","itemService","$stateParams","$state","notify",function(a,b,c,d,e,f){b.detail={id:d.id,name:d.name},b.item={};var g=function(a){angular.isUndefined(a.message)===!1&&f("Response:"+a.code+" Message:"+a.message),angular.isUndefined(a.errors)===!1&&angular.forEach(a.errors,function(b,c){f("Response: "+a.code+' "'+c+'": '+b)})};void 0!==b.detail.id&&c.get(b.detail.id).success(function(a,c){b.item=a}).error(function(a,b){404==a.error.code?(e.transitionTo("home"),console.log(a),f("404 Noting found")):g(a)}),b.editSave=function(a){void 0!==b.details.id&&c.save(b.item).success(function(a,c){f(b.route.name+" has been saved"),console.log(a)}).error(function(a,b){g(a)}),void 0===b.details.id&&c.create(b.item).success(function(a,c){f(b.route.name+" was added"),e.transitionTo(b.route.edit,{id:a.id})}).error(function(a,b){g(a)}),a&&a()},b.editSaveAndExit=function(){c.save(b.item).success(function(a,c){f(b.route.name+" has been saved"),e.transitionTo(b.route.collection)}).error(function(a,b){g(a)})},b.editCancel=function(){e.transitionTo(b.route.collection)},b.editDelete=function(){c.remove(b.detail.id).success(function(a,c){f(b.route.name+" has been deleted"),e.transitionTo(b.route.collection)}).error(function(a,b){g(a)})}}]),angular.module("app.kernel",[]),angular.module("app.kernel").factory("resourceService",["$http","Environment",function(a,b){var c=function(a){this.resource=a};return c.prototype={getCollection:function(c,d){var e=b.settings.api+"/"+this.resource+"/?limit="+c.pageLimit+"&current="+d+"&filter="+c.filter;return a.get(e)},remove:function(c){var d=b.settings.api+"/"+this.resource+"/"+c;return a["delete"](d)},save:function(c){var d=b.settings.api+"/"+this.resource+"/"+c.id;return a({method:"PUT",url:d,data:c})},create:function(c){var d=b.settings.api+"/"+this.resource;return a({method:"POST",url:d,data:c})}},c}]),angular.module("app.order",[]),angular.module("app.product",[]),angular.module("app.reports",[]),angular.module("app.section",[]),angular.module("app.shop",[]),angular.module("app.variant",[]);